<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>業務タスクを手動追加 - 要件管理ツール</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../shared/tailwind-style.js"></script>
</head>
<body>
    <!-- サイドバー -->
    <aside class="sidebar" id="sidebar"></aside>

    <!-- メインコンテンツ -->
    <div class="main-wrapper">
        <div class="container">
            <a href="business_task_list.html?id=BIZ-001" class="back-link" id="backLink">
                <svg class="back-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5"></path>
                    <path d="M12 19l-7-7 7-7"></path>
                </svg>
                業務一覧（詳細）に戻る
            </a>

            <h1 class="page-title">業務タスクを手動追加</h1>

            <form class="form-card">
                <div class="form-group">
                    <label class="form-label">業務ID</label>
                    <input
                        type="text"
                        class="form-input"
                        value="BIZ-001"
                        id="bizIdInput"
                        readonly
                    />
                </div>

                <div class="form-group">
                    <label class="form-label">
                        業務タスクID<span class="required">*</span>
                    </label>
                    <input
                        type="text"
                        class="form-input"
                        value="TASK-009"
                        id="taskIdInput"
                        readonly
                        required
                    />
                </div>

                <div class="form-group">
                    <label class="form-label">
                        業務タスク<span class="required">*</span>
                    </label>
                    <input
                        type="text"
                        class="form-input"
                        placeholder="例: 請求書発行"
                        required
                    />
                </div>

                <div class="form-group">
                    <label class="form-label">業務概要</label>
                    <textarea
                        class="form-textarea"
                        placeholder="この業務タスクで何をするのかを入力してください"
                    ></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">担当者</label>
                    <input
                        type="text"
                        class="form-input"
                        placeholder="例: 経理担当"
                    />
                </div>

                <div class="form-group">
                    <label class="form-label">インプット</label>
                    <textarea
                        class="form-textarea"
                        placeholder="例: 請求対象データ、契約情報"
                    ></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">アウトプット</label>
                    <textarea
                        class="form-textarea"
                        placeholder="例: 請求書（PDF/電子）"
                    ></textarea>
                </div>

                <div class="form-actions">
                    <a href="business_task_list.html?id=BIZ-001" class="btn btn-cancel" id="cancelLink">キャンセル</a>
                    <button type="submit" class="btn btn-submit">追加</button>
                </div>
            </form>
        </div>
    </div>
    <script src="../shared/sidebar.js"></script>
    <script>
        (function () {
            var params = new URLSearchParams(window.location.search || '');
            var bizId = params.get('id') || 'BIZ-001';

            var bizIdInput = document.getElementById('bizIdInput');
            if (bizIdInput) {
                bizIdInput.value = bizId;
            }

            var backLink = document.getElementById('backLink');
            var cancelLink = document.getElementById('cancelLink');
            var backHref = 'business_task_list.html?id=' + encodeURIComponent(bizId);
            if (backLink) backLink.setAttribute('href', backHref);
            if (cancelLink) cancelLink.setAttribute('href', backHref);

            // フォーム送信のハンドリング（デモ用）
            document.querySelector('form').addEventListener('submit', function (e) {
                e.preventDefault();
                alert('業務タスクを追加しました（デモ）');
                window.location.href = backHref;
            });
        })();
    </script>
</body>
</html>
