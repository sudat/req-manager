<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>業務一覧（詳細） - 要件管理ツール</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../shared/tailwind-style.js"></script>
</head>
<body>
    <!-- サイドバー -->
    <aside class="sidebar" id="sidebar"></aside>

    <!-- メインコンテンツ -->
    <div class="main-wrapper">
        <div class="business-container">
            <!-- ヘッダー -->
            <div class="header">
                <div class="header-top">
                    <h1>業務一覧（詳細）</h1>
                    <span class="biz-id" id="bizIdBadge">BIZ-001</span>
                </div>
                <p>業務領域内の業務タスク（業務プロセスの細分）</p>
            </div>

            <!-- ツールバー -->
            <div class="toolbar">
                <div class="toolbar-left">
                    <div class="search-box">
                        <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <input
                            type="text"
                            class="search-input"
                            placeholder="業務タスク名、業務タスクID、業務概要、担当者、インプット、アウトプットで検索..."
                        />
                    </div>
                </div>
                <div class="toolbar-actions">
                    <a href="business_list.html" class="btn-secondary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M15 18l-6-6 6-6"></path>
                        </svg>
                        <span>一覧へ戻る</span>
                    </a>
                    <a href="manual_add.html?id=BIZ-001" class="btn-primary" id="addTaskBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        <span>追加</span>
                    </a>
                </div>
            </div>

            <!-- テーブル -->
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>業務タスクID</th>
                            <th>業務タスク</th>
                            <th>業務概要</th>
                            <th>担当者</th>
                            <th>インプット</th>
                            <th>アウトプット</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="taskTableBody">
                        <tr>
                            <td class="id-muted">TASK-001</td>
                            <td class="task-name">請求書発行</td>
                            <td class="task-summary">請求対象を抽出し、請求書を生成して発行する。</td>
                            <td>経理担当</td>
                            <td>請求対象データ、契約情報</td>
                            <td>請求書（PDF/電子）</td>
                            <td>
                                <div class="actions">
                                    <a class="icon-btn view" href="#" title="照会">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                            <circle cx="12" cy="12" r="3"></circle>
                                        </svg>
                                    </a>
                                    <button class="icon-btn edit" type="button" title="更新">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M12 20h9"></path>
                                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                                        </svg>
                                    </button>
                                    <button class="icon-btn delete" type="button" title="削除">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="3 6 5 6 21 6"></polyline>
                                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="id-muted">TASK-002</td>
                            <td class="task-name">入金消込</td>
                            <td class="task-summary">入金データを取り込み、請求と突合して消込処理を行う。</td>
                            <td>経理担当</td>
                            <td>入金データ、請求データ</td>
                            <td>消込結果、未消込一覧</td>
                            <td>
                                <div class="actions">
                                    <a class="icon-btn view" href="#" title="照会">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                            <circle cx="12" cy="12" r="3"></circle>
                                        </svg>
                                    </a>
                                    <button class="icon-btn edit" type="button" title="更新">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M12 20h9"></path>
                                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                                        </svg>
                                    </button>
                                    <button class="icon-btn delete" type="button" title="削除">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="3 6 5 6 21 6"></polyline>
                                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="id-muted">TASK-003</td>
                            <td class="task-name">債権管理</td>
                            <td class="task-summary">未回収債権を把握し、督促・与信見直し等の対応を行う。</td>
                            <td>回収担当</td>
                            <td>債権残高、入金状況</td>
                            <td>督促状況、回収計画</td>
                            <td>
                                <div class="actions">
                                    <a class="icon-btn view" href="#" title="照会">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                            <circle cx="12" cy="12" r="3"></circle>
                                        </svg>
                                    </a>
                                    <button class="icon-btn edit" type="button" title="更新">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M12 20h9"></path>
                                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                                        </svg>
                                    </button>
                                    <button class="icon-btn delete" type="button" title="削除">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="3 6 5 6 21 6"></polyline>
                                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <script src="../shared/sidebar.js"></script>
    <script>
        (function () {
            var params = new URLSearchParams(window.location.search || '');
            var bizId = params.get('id') || 'BIZ-001';

            var badge = document.getElementById('bizIdBadge');
            if (badge) {
                badge.textContent = bizId;
            }

            var addBtn = document.getElementById('addTaskBtn');
            if (addBtn) {
                addBtn.setAttribute('href', 'manual_add.html?id=' + encodeURIComponent(bizId));
            }
        })();
    </script>
</body>
</html>

