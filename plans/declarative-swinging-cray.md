# ID採番ロジック変更のテスト計画

## テスト完了

### 基本機能テスト結果

| テスト | プロジェクト | 期待ID | 実際のID | 結果 |
|-------|------------|--------|----------|------|
| T-01 | テストプロジェクトA | BIZ-004 | BIZ-004 | ✅ |
| T-02 | テストプロジェクトB | BIZ-005 | BIZ-005 | ✅ |
| T-03 | 新会計システムプロジェクト | BIZ-006 | BIZ-006 | ✅ |

### 追加テスト結果

| テスト項目 | 結果 |
|----------|------|
| ページリロード後も currentProjectId が維持される | ✅ |

### 結論

✅ **グローバル採番（通し番号）が正しく機能**

- プロジェクト間でIDが重複しない
- 最大値+1方式で連続採番されている
- `listBusinesses()` が全プロジェクトのIDを取得して採番している

### DB確認結果

```
SELECT id, name, project_id FROM business_domains ORDER BY id;

 id      | 名前                | プロジェクト
---------|-------------------|------------------------
 BIZ-001 | 債権管理            | 新会計システムプロジェクト
 BIZ-002 | 債務管理            | 新会計システムプロジェクト
 BIZ-003 | 一般会計            | 新会計システムプロジェクト
 BIZ-004 | テストAの業務        | テストプロジェクトA
 BIZ-005 | テストBの業務        | テストプロジェクトB
 BIZ-006 | 新会計システムの業務 | 新会計システムプロジェクト
```
