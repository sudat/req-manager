# business_tasksのbusiness_context記入計画

**作成日**: 2026-01-26

## 概要

business_tasksテーブルのbusiness_contextカラムに、各タスクの業務背景・目的・関連課題を記入する。

**問題**: business_contextがNULLで、タスクの業務上の背景や意図が文脈として記録されていない
**解決**: 各タスクの業務コンテキストを推測・記入して、システム化の背景を明確にする

---

## 1. 業務コンテキストの記入方針

### 1.1 business_contextに含める内容

- **背景**: なぜこの業務が必要なのか
- **目的**: 何を達成したいのか
- **課題**: 解決すべき問題点
- **関連**: 他の業務や規制との関連性

### 1.2 文字数目標

- 目標: 50〜150文字程度
- 簡潔に、かつ十分な情報量を含める

---

## 2. 業務コンテキスト案（23件）

### AR領域（売掛金・債権管理）

| ID | 名称 | business_context案 |
|----|------|-------------------|
| TASK-001 | 与信管理 | 顧客別の与信枠を適切に管理し、貸倒リスクを最小化することで、安定した売上回収を実現する。新規取引開始時や定期的な見直しを通じて、取引拡大とリスク管理のバランスを維持する。 |
| TASK-002 | 売掛計上 | 売上発生を正確かつタイムリーに記録し、債権台帳を維持することで、財務諸表の正確性と債権管理の基礎データを確保する。 |
| TASK-003 | 請求書発行 | 適格請求書保存法対応および電子請求書推進により、顧客ニーズに応じた請求書発行を行い、回収サイトの短縮と経理効率化を実現する。 |
| TASK-004 | 入金消込 | 入金データの自動取り込みと突合処理により、消込業務の効率化と未消込残高の早期発見を実現し、キャッシュフロー管理の精度を向上させる。 |
| TASK-005 | 債権管理 | 未回収債権の常時把握と、延滞予防のための早期対応（督促・与信見直し）により、貸倒損失の抑制と資金繰りの安定化を図る。 |
| TASK-006 | 債権回収 | 延滞債権に対する段階的な回収活動（電話・訪問・法的措置）を通じて、債権回収率の最大化と貸倒損失の最小化を実現する。 |

### AP領域（買掛金・支払管理）

| ID | 名称 | business_context案 |
|----|------|-------------------|
| TASK-007 | 仕入請求受領 | 仕入先請求書と発注・納品データの突合により、支払いの妥当性を確認し、過払いや二重払いを防止するとともに、購買プロセスの透明性を確保する。 |
| TASK-008 | 買掛計上 | 仕入取引を正確に記録し、債務台帳を維持することで、財務諸表の正確性と支払管理の基礎データを確保する。 |
| TASK-009 | 支払依頼 | 支払期日管理と条件に基づいた支払依頼データ作成により、支払漏れの防止と仕入先との信頼関係維持を図る。 |
| TASK-010 | 支払承認 | 支払依頼のレビューと承認プロセスにより、不正支払の防止と支払コントロールを強化し、ガバナンス体制を確立する。 |
| TASK-011 | 支払実行 | 銀行インターフェースを通じた支払実行により、手作業削減とヒューマンエラー防止を実現し、支払業務の効率化を図る。 |
| TASK-012 | 手形管理 | 支払手形の発行・期日管理・決済処理を一元管理し、手形決済リスクの適切な管理と期日通りの決済を実現する。 |
| TASK-013 | 仕入先支払 | 支払予定の策定と資金繰りを考慮した支払実行により、キャッシュフローの最適化と仕入先との良好な関係維持を両立させる。 |
| TASK-014 | 買掛残高確認 | 仕入先別の買掛残高定期的確認と支払計画策定により、資金織りの精度向上と支払遅延リスクの低減を図る。 |

### GL領域（総勘定元帳・財務諸表）

| ID | 名称 | business_context案 |
|----|------|-------------------|
| TASK-015 | 手動仕訳計上 | 経理担当者による証憑に基づく手動仕訳入力と承認プロセスを通じて、自動仕訳対象外の取引も正確に記録し、会計記録の完全性を確保する。 |
| TASK-016 | 仕訳転記 | 各業務プロセスから自動生成される仕訳の妥当性チェックと転記により、手作業削減と転記ミスの防止を実現し、会計処理の効率化を図る。 |
| TASK-017 | 総勘定元帳作成 | 仕訳データの勘定科目別集計と総勘定元帳作成により、財務状況の把握と管理帳票出力の基礎データを提供する。 |
| TASK-018 | 試算表作成 | 総勘定元帳から試算表を作成し、貸借整合を確認することで、財務諸表作成の前提データの正確性を保証する。 |
| TASK-019 | 財務諸表作成 | 試算表に基づき、会計基準に従った貸借対照表と損益計算書を作成し、経営判断のための財務情報を提供する。 |
| TASK-020 | 決算整理 | 決算時に減価償却・引当金などの整理仕訳を計上し、決算資料を体系的に作成することで、適正な期間損益計算と開示を実現する。 |
| TASK-021 | 固定資産管理 | 固定資産の取得・償却・廃棄を管理し、固定資産台帳と物理的状況を照合することで、資産管理の正確性と償却計算の適正化を図る。 |
| TASK-022 | 税申告 | 消費税・法人税等の税額計算と申告書作成により、税務コンプライアンスを遵守し、適正な申告・納付を実現する。 |

### その他

| ID | 名称 | business_context案 |
|----|------|-------------------|
| TASK-023 | IFRS調整 | 日本基準とIFRSの会計処理差異を管理し、IFRS財務諸表を作成することで、グローバル投資家向けの財務情報開示を実現する。 |

---

## 3. 実装手順

### Phase 1: モックデータの更新

**Step 1.1**: `tasks.ts`の更新
- 23件のbusiness_contextを記入

### Phase 2: DBの更新

**Step 2.1**: Supabase MCPを使用してDBを更新
- business_tasksテーブルの23件のbusiness_contextをUPDATE
- 1件ずつRETURNING句で確認

---

## 4. Critical Files

- **`/usr/local/src/dev/wsl/personal-pj/req-manager/lib/mock/data/tasks/tasks.ts`** - 23件のbusiness_contextを記入
- **DB: business_tasksテーブル** - 23件のbusiness_contextカラムを更新

---

## 5. 検証方法

### 5.1 データ検証

```sql
-- 更新後のbusiness_contextを確認
SELECT id, name, LENGTH(business_context) as length, business_context
FROM business_tasks
ORDER BY id;
```

### 5.2 UI動作確認

1. タスク詳細画面でbusiness_contextが表示されることを確認
2. 業務背景が適切に表示されることを確認

---

## 6. 実行コマンド

```bash
# モックデータ更新
# tasks.tsを編集

# DB更新（Supabase MCP使用）
# UPDATE business_tasks SET business_context = '...' WHERE id = 'TASK-XXX'
```
